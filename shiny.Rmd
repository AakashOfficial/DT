---
title: Using DT in Shiny
---

---

You can render a table widget in shiny, and obtain some information about its current state, such as the indices of the rows on the current page. Note these information are currently not available if you are using the [server-side processing](server.html) mode (i.e. when `datatable(server = TRUE)`).

# A Minimal Example

Here is a minimal example of (client-side) DataTables in Shiny using the convenience functions `dataTableOutput()` and `renderDataTable()` in **DT** (instead of **shiny**):

```{r eval=FALSE}
library(shiny)
shinyApp(
  ui = fluidPage(DT::dataTableOutput('tbl')),
  server = function(input, output) {
    output$tbl = DT::renderDataTable({
      DT::datatable(iris)
    })
  }
)
```

If you have used the `renderDataTable()` function in **shiny** before, please note that the function with the same name in **DT** should take a widget as the input instead of a data object, i.e. you should `renderDataTable(datatable(iris))` instead of `renderDataTable(iris)` in **DT**.

# Interaction with Shiny

There are some information exposed to Shiny from the table widget as you interact with the table in Shiny.

## Row Selection

One way to enable row selection in the table is to add a column of checkboxes to the table. You can use the function `appendCheckboxes()` to do this. Remember, you need to tell `datatable()` not to escape this column, otherwise you will see raw HTML code like `<input type="checkbox" ... />` in the table.

```{r}
iris2 = head(iris, 20)
datatable(
  appendCheckboxes(iris2), escape = -7,
  options = list(pageLength = 5, dom = 'tip')
)
# just use checkboxes as the "row names"
datatable(
  iris2, rownames = checkboxRows(iris2), escape = -1,
  options = list(pageLength = 5, dom = 'tip')
)
```

The examples above only show you how a table looks like when you add a column of checkboxes. See [this example](https://yihui.shinyapps.io/DT-checkbox/) for how Shiny react to changes from the checkboxes.

```{r eval=FALSE}
# you can find the example locally in the DT package
app = system.file('examples', 'DT-checkbox', package = 'DT')
shiny::runApp(app)
```

## DataTables Information

As you interact with the table (e.g. sort columns, search the table, or navigate through pages), **DT** will expose some information about the current state of the table to Shiny. At the moment, these information are available in the `input` object of the Shiny server function (suppose the table output id is `foo`):

- `input$foo_rows_current`: the indices of rows on the current page
- `input$foo_rows_all`: the indices of rows on all pages (after the table is filtered by the search strings)

[This example](https://yihui.shinyapps.io/DT-info/) shows how you can make use of these information to highlight points on a scatterplot and download the filtered data.

```{r eval=FALSE}
app = system.file('examples', 'DT-info', package = 'DT')
shiny::runApp(app)
```

[![DataTables information in shiny](http://i.imgur.com/gZzwKEQ.png)](https://yihui.shinyapps.io/DT-info/)
